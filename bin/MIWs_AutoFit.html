<!DOCTYPE html>
<html>
<body>

<h1> <span style="background-color:rgb(255, 255, 255)">
MIW's AutoFit by Matthew Inglis-Whalen
</span> </h1>

<textarea id = "text_area" rows="20" cols="80" placeholder="Paste your comma-separated data here!"></textarea>

<div id="demo">
<p>Click the button below to find the best model for your data.</p>
<button type="button" onclick="send_post_request()">Fit Data</button>
</div>

<br>

<img id="response_image" src="../images/splash.png">
<div id="response_text">
<p>No requests yet</p>
</div>

<script>
var response_image;
var response_text;

function extract_image(respone){
    return "data:image/png;base64," + yourByteArrayAsBase64;;
}

function extract_text(respone){
    return "Not implemented :(;
}

function send_post_request() {

  const data = document.getElementById("text_area").value;

  const xhttp = new XMLHttpRequest();
  xhttp.open("POST", "/fit_data");
  xhttp.setRequestHeader("Content-Type", "application/json");
  xhttp.onload = function() {
    document.getElementById("response_image").src = extract_image(xhttp.responseText);
    document.getElementById("response_text").innerhtml = extract_text(xhttp.responseText);
  }
  xhttp.send(data);
}
</script>

</body>
</html>
